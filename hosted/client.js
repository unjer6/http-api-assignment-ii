(()=>{let e;const t=async t=>{if(204===t.status)return;const n=await t.json();console.log(n),n&&(e.innerHTML+=`<p>Message: ${n.message}</p>`)},n=async t=>{const n=await t.json();console.log(n),404!==t.status?n&&n.users&&(e.innerHTML+=`<p>${JSON.stringify(n.users)}</p>`):n&&(e.innerHTML+=`<p>Message: ${n.message}</p>`)},r=async(t,n,r,a,s)=>{const o={method:n,headers:{Accept:"application/json"}};a&&(o.body=a),s&&(o.headers["Content-Type"]=s);let c=await fetch(t,o);(t=>{switch(t.status){case 200:e.innerHTML="<b>Success</b>";break;case 201:e.innerHTML="<b>Created</b>";break;case 204:e.innerHTML="<b>Updated (No Content)</b>";break;case 400:e.innerHTML="<b>Bad Request</b>";break;case 404:e.innerHTML="<b>Not Found</b>";break;default:e.innerHTML="Error code not implemented by client."}})(c),r?.(c)};window.onload=()=>{e=document.querySelector("#content");const a=document.querySelector("#nameForm");a.addEventListener("submit",(e=>{e.preventDefault();const n=a.getAttribute("action"),s=a.getAttribute("method"),o=a.querySelector("#nameField").value,c=a.querySelector("#ageField").value;return r(n,s,t,`name=${o}&age=${c}`,"application/x-www-form-urlencoded"),!1}));const s=document.querySelector("#userForm");s.addEventListener("submit",(e=>{e.preventDefault();const t=s.querySelector("#urlField").value,a=s.querySelector("#methodSelect").value;return r(t,a,"get"===a?n:null),!1}))}})();